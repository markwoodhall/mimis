#!/usr/bin/env bash

set -o errexit -o pipefail -o nounset

function help() {
    printf "%s\n%s\n  %s\n%s\n" \
        "usage: $(basename "$0") [options] [script [args]]" \
        "Available options are:" \
        "install - install plugins" \
        "  update - update plugins" 
}

case "${1:-}" in
"")
    help
    ;;
help)
    help
    ;;
install)
    nvim -es -u init.vim -i NONE -c "PlugInstall" -c "helptags doc" -c "source package.lock" -c "qa"
    ;;
update)
    nvim -es -u init.vim -i NONE -c "PlugUpgrade" -c "PlugUpdate" -c "helptags doc" -c "PlugSnapshot" -c "w package.lock" -c "qa"
    ;;
esac
